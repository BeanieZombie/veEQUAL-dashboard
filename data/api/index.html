---
layout: default
title: "veEQUAL API Documentation"
description: "REST API endpoints for veEQUAL governance data"
---

<style>
    .api-section {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        margin-bottom: 2rem;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .api-section h2 {
        color: #4f46e5;
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
        border-bottom: 2px solid #e5e7eb;
        padding-bottom: 0.5rem;
    }
    
    .endpoint {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 1.5rem;
        margin-bottom: 1.5rem;
    }
    
    .endpoint h3 {
        color: #1f2937;
        margin-bottom: 1rem;
        font-size: 1.2rem;
    }
    
    .endpoint-url {
        background: #1f2937;
        color: #ffffff;
        padding: 0.75rem 1rem;
        border-radius: 6px;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 0.9rem;
        margin: 1rem 0;
        display: flex;
        align-items: center;
        gap: 1rem;
        flex-wrap: wrap;
    }
    
    .method {
        background: #059669;
        color: white;
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.8rem;
        font-weight: bold;
    }
    
    .try-button {
        background: #4f46e5;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
        text-decoration: none;
        display: inline-block;
        transition: background 0.3s ease;
    }
    
    .try-button:hover {
        background: #3730a3;
    }
    
    .interactive-button {
        background: #059669;
        color: white;
        border: none;
        padding: 0.5rem 1rem;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.85rem;
        margin-left: 0.5rem;
        transition: all 0.3s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .interactive-button:hover {
        background: #047857;
        transform: translateY(-1px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    
    .interactive-button:active {
        transform: translateY(0);
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    .description {
        color: #6b7280;
        margin-bottom: 1rem;
    }
    
    .response-example {
        background: #f1f5f9;
        border: 1px solid #cbd5e1;
        border-radius: 6px;
        padding: 1rem;
        margin-top: 1rem;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 0.85rem;
        max-height: 300px;
        overflow-y: auto;
    }
    
    .response-example h4 {
        color: #374151;
        margin-bottom: 0.5rem;
        font-family: inherit;
        font-size: 0.9rem;
    }
    
    .response-container {
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        border-radius: 6px;
        padding: 1rem;
        margin-top: 1rem;
        display: none;
    }
    
    .response-container.active {
        display: block;
    }
    
    .response-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1rem;
        padding-bottom: 0.5rem;
        border-bottom: 1px solid #e2e8f0;
    }
    
    .status-badge {
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: bold;
    }
    
    .status-200 {
        background: #dcfce7;
        color: #166534;
    }
    
    .status-error {
        background: #fef2f2;
        color: #dc2626;
    }
    
    .response-body {
        background: #ffffff;
        border: 1px solid #e5e7eb;
        border-radius: 4px;
        padding: 1rem;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 0.85rem;
        max-height: 400px;
        overflow-y: auto;
        white-space: pre-wrap;
    }
    
    .nav-links {
        text-align: center;
        margin-top: 2rem;
    }
    
    .nav-links a {
        display: inline-block;
        padding: 12px 24px;
        background: #4f46e5;
        color: white;
        text-decoration: none;
        border-radius: 8px;
        margin: 0 0.5rem;
        transition: background 0.3s ease;
        font-weight: 600;
    }
    
    .nav-links a:hover {
        background: #3730a3;
    }
    
    .loading {
        color: #6b7280;
        font-style: italic;
        animation: pulse 1.5s ease-in-out infinite alternate;
    }
    
    @keyframes pulse {
        from { opacity: 1; }
        to { opacity: 0.5; }
    }
    
    kbd {
        background: #f1f5f9;
        border: 1px solid #cbd5e1;
        border-radius: 3px;
        box-shadow: 0 1px 1px rgba(0,0,0,0.2);
        color: #374151;
        display: inline-block;
        font-size: 0.8em;
        font-weight: 700;
        line-height: 1;
        padding: 2px 4px;
        white-space: nowrap;
    }
</style>

<div class="api-section">
        <h2>📊 Dashboard Endpoints</h2>
        
        <div class="endpoint">
            <h3>Dashboard Summary</h3>
            <div class="description">
                Get key metrics and summary data for the dashboard homepage.
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/dashboard.json</code>
                <button class="interactive-button" onclick="queryEndpoint('dashboard.json', 'dashboard-response')">Try it live</button>
            </div>
            <div class="response-container" id="dashboard-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="dashboard-status"></span>
                </div>
                <div class="response-body" id="dashboard-body"></div>
            </div>
            <div class="response-example">
                <h4>Response Example:</h4>
                <pre>{
  "summary": {
    "totalVotingPower": "2.11M",
    "uniqueHolders": 3683,
    "totalNFTs": 4934,
    "lastUpdated": "2025-05-26T21:10:18.000Z"
  }
}</pre>
            </div>
        </div>
        
        <div class="endpoint">
            <h3>Analytics Data</h3>
            <div class="description">
                Detailed governance analytics including concentration metrics and risk analysis.
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/analytics.json</code>
                <button class="interactive-button" onclick="queryEndpoint('analytics.json', 'analytics-response')">Try it live</button>
            </div>
            <div class="response-container" id="analytics-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="analytics-status"></span>
                </div>
                <div class="response-body" id="analytics-body"></div>
            </div>
            <div class="response-example">
                <h4>Response Example:</h4>
                <pre>{
  "concentration": {
    "top_1_percent": 0.6223,
    "top_10_percent": 0.9607,
    "gini_coefficient": 0.9608
  },
  "risk_level": "CRITICAL"
}</pre>
            </div>
        </div>
        
        <div class="endpoint">
            <h3>Summary Report</h3>
            <div class="description">
                High-level summary with executive metrics.
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/summary.json</code>
                <button class="interactive-button" onclick="queryEndpoint('summary.json', 'summary-response')">Try it live</button>
            </div>
            <div class="response-container" id="summary-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="summary-status"></span>
                </div>
                <div class="response-body" id="summary-body"></div>
            </div>
        </div>
    </div>
    
    <div class="api-section">
        <h2>👥 Holders & NFTs</h2>
        
        <div class="endpoint">
            <h3>Top Holders</h3>
            <div class="description">
                List of top holders ranked by total voting power.
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/top-holders.json</code>
                <button class="interactive-button" onclick="queryEndpoint('top-holders.json', 'top-holders-response')">Try it live</button>
            </div>
            <div class="response-container" id="top-holders-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="top-holders-status"></span>
                </div>
                <div class="response-body" id="top-holders-body"></div>
            </div>
            <div class="response-example">
                <h4>Response Example:</h4>
                <pre>[
  {
    "owner": "0x1234...5678",
    "total_balance": 50000.5,
    "nft_count": 3,
    "percentage_of_total": 2.37
  }
]</pre>
            </div>
        </div>
        
        <div class="endpoint">
            <h3>Top NFTs</h3>
            <div class="description">
                Individual NFTs ranked by balance (voting power).
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/top-nfts.json</code>
                <button class="interactive-button" onclick="queryEndpoint('top-nfts.json', 'top-nfts-response')">Try it live</button>
            </div>
            <div class="response-container" id="top-nfts-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="top-nfts-status"></span>
                </div>
                <div class="response-body" id="top-nfts-body"></div>
            </div>
            <div class="response-example">
                <h4>Response Example:</h4>
                <pre>[
  {
    "token_id": 1234,
    "owner": "0x1234...5678", 
    "balance": 25000.25,
    "end_date": "2025-12-31T23:59:59Z"
  }
]</pre>
            </div>
        </div>
        
        <div class="endpoint">
            <h3>Wallet-NFT Mapping</h3>
            <div class="description">
                Complete mapping of wallet addresses to their NFT holdings.
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/wallet-nfts.json</code>
                <button class="interactive-button" onclick="queryEndpoint('wallet-nfts.json', 'wallet-nfts-response')">Try it live</button>
            </div>
            <div class="response-container" id="wallet-nfts-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="wallet-nfts-status"></span>
                </div>
                <div class="response-body" id="wallet-nfts-body"></div>
            </div>
        </div>
    </div>
    
    <div class="api-section">
        <h2>📈 Charts & Visualization</h2>
        
        <div class="endpoint">
            <h3>Chart Data</h3>
            <div class="description">
                Data formatted for charts and visualizations.
            </div>
            <div class="endpoint-url">
                <span class="method">GET</span>
                <code>/data/api/charts.json</code>
                <button class="interactive-button" onclick="queryEndpoint('charts.json', 'charts-response')">Try it live</button>
            </div>
            <div class="response-container" id="charts-response">
                <div class="response-header">
                    <h4>Response:</h4>
                    <span class="status-badge" id="charts-status"></span>
                </div>
                <div class="response-body" id="charts-body"></div>
            </div>
        </div>
    </div>
    
    <div class="api-section">
        <h2>🔧 Usage Information</h2>
        <div style="color: #6b7280;">
            <h3>Interactive Testing</h3>
            <p>Click the <strong>Try it live</strong> buttons to query endpoints directly from this page. Use <kbd>Ctrl+Shift+T</kbd> to test all endpoints at once.</p>
            
            <h3>Rate Limits</h3>
            <p>No rate limits currently enforced. Data is updated daily via GitHub Actions.</p>
            
            <h3>Data Freshness</h3>
            <p>All endpoints return cached data that is refreshed daily at approximately 00:00 UTC.</p>
            
            <h3>CORS</h3>
            <p>Cross-origin requests are supported for web applications.</p>
            
            <h3>Authentication</h3>
            <p>No authentication required. All endpoints are publicly accessible.</p>
        </div>
    </div>
    
    <div class="nav-links">
        <a href="../../">🏠 Dashboard</a>
        <a href="../../veEQUAL.md">📊 Full Report</a>
        <a href="https://github.com/BeanieZombie/veEQUAL-dashboard">📂 Source Code</a>
    </div>

<script>
async function queryEndpoint(endpoint, responseId) {
    const responseContainer = document.getElementById(responseId);
    const statusElement = document.getElementById(responseId.replace('-response', '-status'));
    const bodyElement = document.getElementById(responseId.replace('-response', '-body'));
    
    // Show response container and loading state
    responseContainer.classList.add('active');
    statusElement.textContent = 'Loading...';
    statusElement.className = 'status-badge loading';
    bodyElement.textContent = 'Fetching data...';
    
    try {
        const response = await fetch(endpoint);
        const data = await response.json();
        
        // Update status badge
        if (response.ok) {
            statusElement.textContent = `${response.status} OK`;
            statusElement.className = 'status-badge status-200';
        } else {
            statusElement.textContent = `${response.status} Error`;
            statusElement.className = 'status-badge status-error';
        }
        
        // Format and display response
        bodyElement.textContent = JSON.stringify(data, null, 2);
        
    } catch (error) {
        statusElement.textContent = 'Network Error';
        statusElement.className = 'status-badge status-error';
        bodyElement.textContent = `Error: ${error.message}`;
    }
}

// Add keyboard shortcut to test all endpoints
document.addEventListener('keydown', function(e) {
    if (e.ctrlKey && e.shiftKey && e.key === 'T') {
        const endpoints = [
            'dashboard.json',
            'analytics.json', 
            'summary.json',
            'top-holders.json',
            'top-nfts.json',
            'wallet-nfts.json',
            'charts.json'
        ];
        
        endpoints.forEach((endpoint, index) => {
            setTimeout(() => {
                const responseId = endpoint.replace('.json', '-response');
                queryEndpoint(endpoint, responseId);
            }, index * 500); // Stagger requests by 500ms
        });
    }
});
</script>
